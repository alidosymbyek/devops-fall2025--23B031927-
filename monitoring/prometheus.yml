global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    monitor: 'dataplatform-monitor'

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['127.0.0.1:9090']

  # Note: PostgreSQL, Airflow, and Kafka don't expose native Prometheus metrics
  # These targets are commented out until exporters are added
  # To add metrics:
  # 1. Add postgres_exporter service to docker-compose
  # 2. Configure Airflow to expose metrics endpoint
  # 3. Add kafka_exporter or JMX exporter for Kafka
  
  # - job_name: 'postgres'
  #   static_configs:
  #     - targets: ['postgres-exporter:9187']
  
  # - job_name: 'airflow'
  #   static_configs:
  #     - targets: ['airflow-webserver:8080']
  #   metrics_path: '/admin/metrics'
  
  # - job_name: 'kafka'
  #   static_configs:
  #     - targets: ['kafka-exporter:9308']

alerting:
  alertmanagers:
    - static_configs:
        - targets: []

rule_files:
  - '/etc/prometheus/alerts.yml'

